<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ChronoBook Pro</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background: linear-gradient(135deg, #1a2a6c, #b21f1f, #fdbb2d);
            color: #fff;
            min-height: 100vh;
            overflow-x: hidden;
            position: relative;
        }
        
        /* 3D Background Elements */
        .background-3d {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1;
            overflow: hidden;
        }
        
        .cube {
            position: absolute;
            top: 80vh;
            left: 10vw;
            width: 100px;
            height: 100px;
            transform-style: preserve-3d;
            animation: rotate 20s infinite linear;
        }
        
        .side {
            position: absolute;
            width: 100px;
            height: 100px;
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
            color: rgba(255, 255, 255, 0.3);
        }
        
        .front { transform: translateZ(50px); }
        .back { transform: translateZ(-50px) rotateY(180deg); }
        .left { transform: translateX(-50px) rotateY(-90deg); }
        .right { transform: translateX(50px) rotateY(90deg); }
        .top { transform: translateY(-50px) rotateX(90deg); }
        .bottom { transform: translateY(50px) rotateX(-90deg); }
        
        .pyramid {
            position: absolute;
            top: 20vh;
            right: 15vw;
            width: 120px;
            height: 120px;
            transform-style: preserve-3d;
            animation: float 15s infinite ease-in-out;
        }
        
        .pyramid-side {
            position: absolute;
            border-left: 60px solid transparent;
            border-right: 60px solid transparent;
            border-bottom: 104px solid rgba(255, 255, 255, 0.1);
            transform-origin: center bottom;
        }
        
        .pyramid-side:nth-child(1) { transform: rotateY(0deg) translateZ(30px); }
        .pyramid-side:nth-child(2) { transform: rotateY(90deg) translateZ(30px); }
        .pyramid-side:nth-child(3) { transform: rotateY(180deg) translateZ(30px); }
        .pyramid-side:nth-child(4) { transform: rotateY(270deg) translateZ(30px); }
        
        .sphere {
            position: absolute;
            top: 60vh;
            right: 25vw;
            width: 80px;
            height: 80px;
            border-radius: 50%;
            background: radial-gradient(circle at 30% 30%, rgba(255, 255, 255, 0.2), rgba(255, 255, 255, 0.05));
            box-shadow: 0 0 30px rgba(255, 255, 255, 0.1);
            animation: pulse 8s infinite alternate;
        }
        
        .floating-element {
            position: absolute;
            width: 40px;
            height: 40px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 10px;
            animation: floatRandom 20s infinite linear;
        }
        
        @keyframes rotate {
            0% { transform: rotateX(0) rotateY(0) rotateZ(0); }
            100% { transform: rotateX(360deg) rotateY(360deg) rotateZ(360deg); }
        }
        
        @keyframes float {
            0%, 100% { transform: translateY(0) rotateX(0) rotateY(0); }
            50% { transform: translateY(-20px) rotateX(10deg) rotateY(10deg); }
        }
        
        @keyframes pulse {
            0% { transform: scale(1); opacity: 0.7; }
            100% { transform: scale(1.3); opacity: 0.3; }
        }
        
        @keyframes floatRandom {
            0% { transform: translate(0, 0) rotate(0deg); }
            25% { transform: translate(100px, 50px) rotate(90deg); }
            50% { transform: translate(50px, 100px) rotate(180deg); }
            75% { transform: translate(-50px, 75px) rotate(270deg); }
            100% { transform: translate(0, 0) rotate(360deg); }
        }
        
        @keyframes slideIn {
            from { transform: translateX(-100px); opacity: 0; }
            to { transform: translateX(0); opacity: 1; }
        }
        
        @keyframes bounceIn {
            0% { transform: scale(0.3); opacity: 0; }
            50% { transform: scale(1.05); opacity: 0.8; }
            70% { transform: scale(0.9); opacity: 0.9; }
            100% { transform: scale(1); opacity: 1; }
        }
        
        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            10%, 30%, 50%, 70%, 90% { transform: translateX(-5px); }
            20%, 40%, 60%, 80% { transform: translateX(5px); }
        }
        
        @keyframes fadeOut {
            from { opacity: 1; transform: scale(1); }
            to { opacity: 0; transform: scale(0.8); }
        }
        
        @keyframes logoGlow {
            0%, 100% { 
                filter: drop-shadow(0 0 10px rgba(74, 144, 226, 0.7));
                transform: scale(1);
            }
            50% { 
                filter: drop-shadow(0 0 20px rgba(74, 144, 226, 0.9));
                transform: scale(1.02);
            }
        }
        
        @keyframes logoFloat {
            0%, 100% { transform: translateY(0px) rotate(0deg); }
            33% { transform: translateY(-10px) rotate(2deg); }
            66% { transform: translateY(5px) rotate(-1deg); }
        }
        
        @keyframes text3dFloat {
            0%, 100% { transform: translateY(0) rotateX(0) rotateY(0); }
            25% { transform: translateY(-5px) rotateX(5deg) rotateY(2deg); }
            50% { transform: translateY(3px) rotateX(-3deg) rotateY(-1deg); }
            75% { transform: translateY(-2px) rotateX(2deg) rotateY(3deg); }
        }
        
        @keyframes text3dGlow {
            0%, 100% { 
                text-shadow: 
                    0 1px 0 #ccc, 
                    0 2px 0 #b3b3b3,
                    0 3px 0 #999,
                    0 4px 0 #808080,
                    0 5px 0 #666,
                    0 6px 1px rgba(0,0,0,.1),
                    0 0 5px rgba(0,0,0,.1),
                    0 1px 3px rgba(0,0,0,.3),
                    0 3px 5px rgba(0,0,0,.2),
                    0 5px 10px rgba(0,0,0,.25),
                    0 10px 10px rgba(0,0,0,.2),
                    0 20px 20px rgba(0,0,0,.15),
                    0 0 20px rgba(74, 144, 226, 0.5);
            }
            50% { 
                text-shadow: 
                    0 1px 0 #ccc, 
                    0 2px 0 #b3b3b3,
                    0 3px 0 #999,
                    0 4px 0 #808080,
                    0 5px 0 #666,
                    0 6px 1px rgba(0,0,0,.1),
                    0 0 5px rgba(0,0,0,.1),
                    0 1px 3px rgba(0,0,0,.3),
                    0 3px 5px rgba(0,0,0,.2),
                    0 5px 10px rgba(0,0,0,.25),
                    0 10px 10px rgba(0,0,0,.2),
                    0 20px 20px rgba(0,0,0,.15),
                    0 0 30px rgba(74, 144, 226, 0.8),
                    0 0 40px rgba(74, 144, 226, 0.6),
                    0 0 50px rgba(74, 144, 226, 0.4);
            }
        }
        
        @keyframes letterWave {
            0%, 100% { transform: translateY(0) rotate(0); }
            25% { transform: translateY(-5px) rotate(1deg); }
            50% { transform: translateY(3px) rotate(-1deg); }
            75% { transform: translateY(-2px) rotate(0.5deg); }
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            position: relative;
            z-index: 1;
        }
        
        header {
            text-align: center;
            padding: 40px 0;
            background: rgba(0, 0, 0, 0.4);
            border-radius: 15px;
            margin-bottom: 30px;
            backdrop-filter: blur(10px);
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
            border: 1px solid rgba(255, 255, 255, 0.1);
            position: relative;
            overflow: hidden;
            animation: slideIn 1s ease-out;
        }
        
        .logo-container {
            position: relative;
            width: 100%;
            margin: 0 auto 25px;
            perspective: 1000px;
        }
        
        .text-3d-logo {
            font-size: 5rem;
            font-weight: 900;
            text-align: center;
            margin-bottom: 10px;
            animation: text3dFloat 6s ease-in-out infinite, text3dGlow 4s ease-in-out infinite;
            position: relative;
            transform-style: preserve-3d;
        }
        
        .text-3d-logo span {
            display: inline-block;
            position: relative;
            animation: letterWave 3s ease-in-out infinite;
            animation-delay: calc(var(--delay) * 0.1s);
        }
        
        .logo-subtitle {
            font-size: 1.3rem;
            color: rgba(255, 255, 255, 0.8);
            margin-top: 5px;
            font-weight: 300;
            letter-spacing: 4px;
            text-transform: uppercase;
            animation: text3dFloat 8s ease-in-out infinite;
            text-shadow: 0 2px 10px rgba(0, 0, 0, 0.3);
        }
        
        .logo-decoration {
            position: absolute;
            width: 100%;
            height: 100%;
            top: 0;
            left: 0;
            pointer-events: none;
        }
        
        .decoration-element {
            position: absolute;
            width: 8px;
            height: 8px;
            background: rgba(255, 255, 255, 0.6);
            border-radius: 50%;
            animation: decorationFloat 8s ease-in-out infinite;
        }
        
        .decoration-element:nth-child(1) { top: 20%; left: 10%; animation-delay: 0s; }
        .decoration-element:nth-child(2) { top: 80%; left: 90%; animation-delay: 1s; }
        .decoration-element:nth-child(3) { top: 40%; left: 5%; animation-delay: 2s; }
        .decoration-element:nth-child(4) { top: 60%; left: 95%; animation-delay: 3s; }
        .decoration-element:nth-child(5) { top: 10%; left: 80%; animation-delay: 4s; }
        
        @keyframes decorationFloat {
            0%, 100% { transform: translate(0, 0) scale(1); opacity: 0.7; }
            25% { transform: translate(20px, -15px) scale(1.2); opacity: 1; }
            50% { transform: translate(-10px, 10px) scale(0.8); opacity: 0.5; }
            75% { transform: translate(15px, 5px) scale(1.1); opacity: 0.9; }
        }
        
        .description {
            font-size: 1.2rem;
            max-width: 800px;
            margin: 30px auto 0;
            opacity: 0.9;
            animation: slideIn 1.5s ease-out;
            line-height: 1.6;
            background: rgba(255, 255, 255, 0.1);
            padding: 20px;
            border-radius: 10px;
            backdrop-filter: blur(5px);
        }
        
        .tabs {
            display: flex;
            justify-content: center;
            margin-bottom: 30px;
            background: rgba(0, 0, 0, 0.4);
            border-radius: 50px;
            padding: 10px;
            backdrop-filter: blur(10px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
            max-width: 1000px;
            margin-left: auto;
            margin-right: auto;
            flex-wrap: wrap;
            animation: slideIn 1s ease-out;
        }
        
        .tab-button {
            padding: 15px 25px;
            background: transparent;
            border: none;
            cursor: pointer;
            font-size: 1.1rem;
            font-weight: bold;
            transition: all 0.3s ease;
            border-radius: 30px;
            margin: 5px;
            color: rgba(255, 255, 255, 0.7);
            display: flex;
            align-items: center;
            gap: 10px;
            position: relative;
            overflow: hidden;
        }
        
        .tab-button::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent);
            transition: left 0.5s;
        }
        
        .tab-button:hover::before {
            left: 100%;
        }
        
        .tab-button.active {
            background: linear-gradient(135deg, #4a90e2, #8e44ad);
            color: white;
            box-shadow: 0 5px 15px rgba(74, 144, 226, 0.4);
            transform: translateY(-2px);
        }
        
        .tab-content {
            display: none;
            background: rgba(0, 0, 0, 0.5);
            padding: 40px;
            border-radius: 20px;
            box-shadow: 0 15px 30px rgba(0, 0, 0, 0.3);
            backdrop-filter: blur(15px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            margin-bottom: 30px;
            animation: bounceIn 0.6s ease-out;
        }
        
        .tab-content.active {
            display: block;
        }
        
        h2 {
            font-size: 2rem;
            margin-bottom: 25px;
            color: #fdbb2d;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .form-group {
            margin-bottom: 25px;
        }
        
        label {
            display: block;
            margin-bottom: 10px;
            font-weight: bold;
            color: #fdbb2d;
        }
        
        input, select, textarea {
            width: 100%;
            padding: 15px;
            border: none;
            border-radius: 10px;
            font-size: 1rem;
            background: rgba(255, 255, 255, 0.1);
            color: white;
            border: 1px solid rgba(255, 255, 255, 0.2);
            transition: all 0.3s;
        }
        
        input:focus, select:focus, textarea:focus {
            outline: none;
            background: rgba(255, 255, 255, 0.15);
            border-color: #4a90e2;
            box-shadow: 0 0 15px rgba(74, 144, 226, 0.5);
            transform: translateY(-2px);
        }
        
        input::placeholder, textarea::placeholder {
            color: rgba(255, 255, 255, 0.5);
        }
        
        button {
            background: linear-gradient(135deg, #4a90e2, #8e44ad);
            color: white;
            border: none;
            padding: 15px 30px;
            border-radius: 10px;
            cursor: pointer;
            font-size: 1.1rem;
            font-weight: bold;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            gap: 10px;
            margin: 0 auto;
            box-shadow: 0 5px 15px rgba(74, 144, 226, 0.4);
            position: relative;
            overflow: hidden;
        }
        
        button::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.4), transparent);
            transition: left 0.5s;
        }
        
        button:hover::before {
            left: 100%;
        }
        
        button:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 20px rgba(74, 144, 226, 0.6);
        }
        
        .form-row {
            display: flex;
            gap: 20px;
        }
        
        .form-row .form-group {
            flex: 1;
        }
        
        .confirmation {
            background: rgba(46, 204, 113, 0.2);
            color: #2ecc71;
            padding: 20px;
            border-radius: 10px;
            margin-top: 20px;
            display: none;
            border: 1px solid rgba(46, 204, 113, 0.3);
            text-align: center;
            animation: bounceIn 0.6s ease-out;
        }
        
        .error {
            background: rgba(231, 76, 60, 0.2);
            color: #e74c3c;
            padding: 15px;
            border-radius: 10px;
            margin-top: 20px;
            display: none;
            border: 1px solid rgba(231, 76, 60, 0.3);
            text-align: center;
            animation: shake 0.5s ease-in-out;
        }
        
        footer {
            text-align: center;
            margin-top: 40px;
            padding: 20px;
            color: rgba(255, 255, 255, 0.7);
            font-size: 0.9rem;
            background: rgba(0, 0, 0, 0.4);
            border-radius: 10px;
            backdrop-filter: blur(10px);
            animation: slideIn 1s ease-out;
        }
        
        .features {
            display: flex;
            justify-content: space-between;
            margin: 40px 0;
            flex-wrap: wrap;
        }
        
        .feature {
            flex: 1;
            min-width: 250px;
            text-align: center;
            padding: 20px;
            background: rgba(0, 0, 0, 0.4);
            border-radius: 15px;
            margin: 10px;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            transition: all 0.3s;
            animation: bounceIn 0.8s ease-out;
        }
        
        .feature:hover {
            transform: translateY(-10px) scale(1.05);
            box-shadow: 0 15px 30px rgba(0, 0, 0, 0.3);
        }
        
        .feature i {
            font-size: 2.5rem;
            margin-bottom: 15px;
            color: #4a90e2;
            transition: all 0.3s;
        }
        
        .feature:hover i {
            transform: scale(1.2) rotate(10deg);
        }
        
        .user-info {
            position: absolute;
            top: 20px;
            right: 20px;
            background: rgba(0, 0, 0, 0.4);
            padding: 10px 20px;
            border-radius: 30px;
            backdrop-filter: blur(10px);
            display: none;
            align-items: center;
            gap: 10px;
            animation: bounceIn 0.6s ease-out;
        }
        
        .user-info span {
            font-weight: bold;
            color: #4a90e2;
        }
        
        .logout-btn {
            background: transparent;
            border: none;
            color: #e74c3c;
            cursor: pointer;
            font-size: 1.2rem;
            padding: 5px;
            transition: all 0.3s;
        }
        
        .logout-btn:hover {
            transform: scale(1.2) rotate(90deg);
        }
        
        /* Weitere Styles bleiben gleich... */
        .payment-section {
            margin-top: 30px;
            padding-top: 30px;
            border-top: 1px solid rgba(255, 255, 255, 0.2);
        }
        
        .payment-methods {
            display: flex;
            gap: 15px;
            margin-bottom: 20px;
            flex-wrap: wrap;
        }
        
        .payment-method {
            flex: 1;
            min-width: 120px;
            padding: 15px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 10px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s;
            border: 2px solid transparent;
            animation: bounceIn 0.6s ease-out;
        }
        
        .payment-method:hover {
            transform: translateY(-5px) scale(1.05);
        }
        
        .payment-method.selected {
            background: rgba(74, 144, 226, 0.3);
            border-color: #4a90e2;
            transform: translateY(-5px) scale(1.05);
        }
        
        .payment-method i {
            font-size: 2rem;
            margin-bottom: 10px;
            display: block;
            transition: all 0.3s;
        }
        
        .payment-method:hover i {
            transform: scale(1.2);
        }
        
        .price-display {
            background: rgba(255, 255, 255, 0.1);
            padding: 20px;
            border-radius: 10px;
            margin-bottom: 20px;
            text-align: center;
            animation: bounceIn 0.6s ease-out;
        }
        
        .price {
            font-size: 2rem;
            font-weight: bold;
            color: #fdbb2d;
        }
        
        .card-details {
            display: none;
            animation: slideIn 0.5s ease-out;
        }
        
        .card-row {
            display: flex;
            gap: 15px;
        }
        
        .card-row .form-group {
            flex: 1;
        }
        
        .small-input {
            max-width: 100px;
        }
        
        /* Verbesserte Listenansicht */
        .appointments-list {
            margin-top: 30px;
        }
        
        .appointment-item {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 15px;
            padding: 20px;
            margin-bottom: 15px;
            border-left: 5px solid #4a90e2;
            transition: all 0.3s ease;
            backdrop-filter: blur(10px);
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
            animation: slideIn 0.5s ease-out;
            position: relative;
            overflow: hidden;
        }
        
        .appointment-item::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.1), transparent);
            transition: left 0.5s;
        }
        
        .appointment-item:hover::before {
            left: 100%;
        }
        
        .appointment-item:hover {
            transform: translateX(10px);
            background: rgba(255, 255, 255, 0.15);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
        }
        
        .appointment-item.cancelling {
            animation: fadeOut 0.5s ease-out forwards;
        }
        
        .appointment-info {
            flex: 1;
            min-width: 300px;
        }
        
        .appointment-meta {
            display: flex;
            gap: 20px;
            margin-top: 10px;
            flex-wrap: wrap;
        }
        
        .appointment-meta span {
            background: rgba(255, 255, 255, 0.1);
            padding: 5px 15px;
            border-radius: 20px;
            font-size: 0.9rem;
            display: flex;
            align-items: center;
            gap: 5px;
            transition: all 0.3s;
        }
        
        .appointment-meta span:hover {
            transform: translateY(-2px);
            background: rgba(255, 255, 255, 0.2);
        }
        
        .appointment-actions {
            display: flex;
            gap: 10px;
        }
        
        .action-btn {
            padding: 8px 15px;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-size: 0.9rem;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            gap: 5px;
            position: relative;
            overflow: hidden;
        }
        
        .action-btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.3), transparent);
            transition: left 0.5s;
        }
        
        .action-btn:hover::before {
            left: 100%;
        }
        
        .edit-btn {
            background: rgba(74, 144, 226, 0.3);
            color: #4a90e2;
        }
        
        .edit-btn:hover {
            background: rgba(74, 144, 226, 0.5);
            transform: translateY(-2px);
        }
        
        .cancel-btn {
            background: rgba(231, 76, 60, 0.3);
            color: #e74c3c;
        }
        
        .cancel-btn:hover {
            background: rgba(231, 76, 60, 0.5);
            transform: translateY(-2px);
            animation: shake 0.5s ease-in-out;
        }
        
        .status-badge {
            padding: 5px 15px;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: bold;
            text-transform: uppercase;
            transition: all 0.3s;
        }
        
        .status-badge:hover {
            transform: scale(1.1);
        }
        
        .status-pending {
            background: rgba(243, 156, 18, 0.3);
            color: #f39c12;
        }
        
        .status-confirmed {
            background: rgba(46, 204, 113, 0.3);
            color: #2ecc71;
        }
        
        .status-paid {
            background: rgba(155, 89, 182, 0.3);
            color: #9b59b6;
        }
        
        .status-cancelled {
            background: rgba(231, 76, 60, 0.3);
            color: #e74c3c;
            text-decoration: line-through;
        }
        
        .empty-state {
            text-align: center;
            padding: 40px;
            color: rgba(255, 255, 255, 0.5);
            animation: bounceIn 0.8s ease-out;
        }
        
        .empty-state i {
            font-size: 4rem;
            margin-bottom: 20px;
            opacity: 0.5;
            animation: pulse 2s infinite;
        }
        
        /* Stornierungs-Overlay */
        .cancel-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            display: none;
            justify-content: center;
            align-items: center;
            z-index: 1000;
            backdrop-filter: blur(5px);
        }
        
        .cancel-modal {
            background: rgba(0, 0, 0, 0.7);
            padding: 30px;
            border-radius: 15px;
            text-align: center;
            max-width: 500px;
            width: 90%;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(231, 76, 60, 0.3);
            animation: bounceIn 0.5s ease-out;
        }
        
        .cancel-modal h3 {
            color: #e74c3c;
            margin-bottom: 15px;
            font-size: 1.5rem;
        }
        
        .cancel-modal p {
            margin-bottom: 20px;
            line-height: 1.5;
        }
        
        .cancel-modal-actions {
            display: flex;
            gap: 15px;
            justify-content: center;
        }
        
        .confirm-cancel {
            background: rgba(231, 76, 60, 0.7);
            color: white;
        }
        
        .confirm-cancel:hover {
            background: rgba(231, 76, 60, 0.9);
        }
        
        .deny-cancel {
            background: rgba(149, 165, 166, 0.7);
            color: white;
        }
        
        .deny-cancel:hover {
            background: rgba(149, 165, 166, 0.9);
        }
        
        .cancellation-effect {
            position: absolute;
            width: 100%;
            height: 100%;
            top: 0;
            left: 0;
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 4rem;
            color: #e74c3c;
            opacity: 0;
            pointer-events: none;
        }
        
        @media (max-width: 768px) {
            .form-row, .card-row {
                flex-direction: column;
                gap: 0;
            }
            
            .tab-button {
                padding: 12px 15px;
                font-size: 0.9rem;
            }
            
            .text-3d-logo {
                font-size: 3rem;
            }
            
            .feature {
                min-width: 100%;
            }
            
            .tabs {
                max-width: 100%;
            }
            
            .user-info {
                position: relative;
                top: 0;
                right: 0;
                margin-bottom: 20px;
                justify-content: center;
            }
            
            .payment-method {
                min-width: 100px;
            }
            
            .small-input {
                max-width: 100%;
            }
            
            .appointment-item {
                flex-direction: column;
                align-items: flex-start;
                gap: 15px;
            }
            
            .appointment-actions {
                width: 100%;
                justify-content: flex-end;
            }
            
            .cancel-modal-actions {
                flex-direction: column;
            }
        }
    </style>
</head>
<body>
    <div class="background-3d">
        <div class="cube">
            <div class="side front"><i class="fas fa-calendar-alt"></i></div>
            <div class="side back"><i class="fas fa-clock"></i></div>
            <div class="side left"><i class="fas fa-user"></i></div>
            <div class="side right"><i class="fas fa-envelope"></i></div>
            <div class="side top"><i class="fas fa-mobile-alt"></i></div>
            <div class="side bottom"><i class="fas fa-lock"></i></div>
        </div>
        <div class="pyramid">
            <div class="pyramid-side"></div>
            <div class="pyramid-side"></div>
            <div class="pyramid-side"></div>
            <div class="pyramid-side"></div>
        </div>
        <div class="sphere"></div>
        <!-- Weitere schwebende Elemente -->
        <div class="floating-element" style="top: 10vh; left: 5vw; animation-delay: 0s;"></div>
        <div class="floating-element" style="top: 30vh; left: 80vw; animation-delay: 2s;"></div>
        <div class="floating-element" style="top: 70vh; left: 70vw; animation-delay: 4s;"></div>
        <div class="floating-element" style="top: 50vh; left: 10vw; animation-delay: 6s;"></div>
        <div class="floating-element" style="top: 20vh; left: 60vw; animation-delay: 8s;"></div>
    </div>
    
    <!-- Stornierungs-Overlay -->
    <div class="cancel-overlay" id="cancelOverlay">
        <div class="cancel-modal">
            <h3><i class="fas fa-exclamation-triangle"></i> Termin stornieren</h3>
            <p>Möchten Sie diesen Termin wirklich stornieren? Diese Aktion kann nicht rückgängig gemacht werden.</p>
            <div class="cancel-modal-actions">
                <button class="action-btn confirm-cancel" id="confirmCancel">
                    <i class="fas fa-check"></i> Ja, stornieren
                </button>
                <button class="action-btn deny-cancel" id="denyCancel">
                    <i class="fas fa-times"></i> Abbrechen
                </button>
            </div>
        </div>
    </div>
    
    <div class="container">
        <header>
            <div class="logo-container">
                <div class="text-3d-logo">
                    <span style="--delay: 0">C</span>
                    <span style="--delay: 1">h</span>
                    <span style="--delay: 2">r</span>
                    <span style="--delay: 3">o</span>
                    <span style="--delay: 4">n</span>
                    <span style="--delay: 5">o</span>
                    <span style="--delay: 6">B</span>
                    <span style="--delay: 7">o</span>
                    <span style="--delay: 8">o</span>
                    <span style="--delay: 9">k</span>
                    <span style="--delay: 10"> </span>
                    <span style="--delay: 11">P</span>
                    <span style="--delay: 12">r</span>
                    <span style="--delay: 13">o</span>
                </div>
                <div class="logo-subtitle">PREMIUM TERMINMANAGEMENT</div>
                <div class="logo-decoration">
                    <div class="decoration-element"></div>
                    <div class="decoration-element"></div>
                    <div class="decoration-element"></div>
                    <div class="decoration-element"></div>
                    <div class="decoration-element"></div>
                </div>
            </div>
            <p class="description">Vereinfachen Sie die Terminplanung mit unserem modernen Buchungssystem. Registrieren Sie sich und buchen Sie Termine in Echtzeit mit vollständiger Zahlungsabwicklung und automatischen Erinnerungen.</p>
        </header>
        
        <div class="user-info" id="userInfo">
            <i class="fas fa-user-circle"></i>
            <span id="userName">Max Mustermann</span>
            <button class="logout-btn" id="logoutBtn" title="Abmelden">
                <i class="fas fa-sign-out-alt"></i>
            </button>
        </div>
        
        <div class="features">
            <div class="feature">
                <i class="fas fa-user-plus"></i>
                <h3>Einfache Registrierung</h3>
                <p>Schnell und unkompliziert als Kunde registrieren</p>
            </div>
            <div class="feature">
                <i class="fas fa-calendar-check"></i>
                <h3>24/7 Buchung</h3>
                <p>Jederzeit und von überall Termine buchen</p>
            </div>
            <div class="feature">
                <i class="fas fa-credit-card"></i>
                <h3>Sichere Zahlung</h3>
                <p>Verschiedene Zahlungsmethoden verfügbar</p>
            </div>
        </div>
        
        <!-- Der Rest des Codes bleibt unverändert -->
        <div class="tabs">
            <button class="tab-button active" onclick="openTab('register')">
                <i class="fas fa-user-plus"></i> Registrierung
            </button>
            <button class="tab-button" onclick="openTab('login')">
                <i class="fas fa-sign-in-alt"></i> Anmelden
            </button>
            <button class="tab-button" onclick="openTab('booking')">
                <i class="fas fa-calendar-alt"></i> Termin buchen
            </button>
            <button class="tab-button" onclick="openTab('appointments')">
                <i class="fas fa-list"></i> Meine Termine
            </button>
            <button class="tab-button" onclick="openTab('payment')">
                <i class="fas fa-credit-card"></i> Zahlung
            </button>
        </div>
        
        <!-- Tab-Inhalte bleiben unverändert -->
        <div id="register" class="tab-content active">
            <h2><i class="fas fa-user-plus"></i> Kundenregistrierung</h2>
            <form id="registration-form">
                <div class="form-row">
                    <div class="form-group">
                        <label for="firstname"><i class="fas fa-user"></i> Vorname *</label>
                        <input type="text" id="firstname" name="firstname" placeholder="Ihr Vorname" required>
                    </div>
                    <div class="form-group">
                        <label for="lastname"><i class="fas fa-user"></i> Nachname *</label>
                        <input type="text" id="lastname" name="lastname" placeholder="Ihr Nachname" required>
                    </div>
                </div>
                
                <div class="form-group">
                    <label for="email"><i class="fas fa-envelope"></i> E-Mail *</label>
                    <input type="email" id="email" name="email" placeholder="ihre.email@beispiel.de" required>
                </div>
                
                <div class="form-group">
                    <label for="phone"><i class="fas fa-phone"></i> Telefon</label>
                    <input type="tel" id="phone" name="phone" placeholder="Ihre Telefonnummer">
                </div>
                
                <div class="form-row">
                    <div class="form-group">
                        <label for="password"><i class="fas fa-lock"></i> Passwort *</label>
                        <input type="password" id="password" name="password" placeholder="Sicheres Passwort" required>
                    </div>
                    <div class="form-group">
                        <label for="confirm-password"><i class="fas fa-lock"></i> Passwort bestätigen *</label>
                        <input type="password" id="confirm-password" name="confirm-password" placeholder="Passwort wiederholen" required>
                    </div>
                </div>
                
                <button type="submit"><i class="fas fa-user-plus"></i> Jetzt registrieren</button>
                
                <div id="registration-confirmation" class="confirmation">
                    <i class="fas fa-check-circle"></i> Registrierung erfolgreich! Sie können sich jetzt anmelden.
                </div>
            </form>
        </div>
        
        <!-- Weitere Tab-Inhalte bleiben unverändert -->
        <div id="login" class="tab-content">
            <h2><i class="fas fa-sign-in-alt"></i> Anmelden</h2>
            <form id="login-form">
                <div class="form-group">
                    <label for="login-email"><i class="fas fa-envelope"></i> E-Mail *</label>
                    <input type="email" id="login-email" name="login-email" placeholder="ihre.email@beispiel.de" required>
                </div>
                
                <div class="form-group">
                    <label for="login-password"><i class="fas fa-lock"></i> Passwort *</label>
                    <input type="password" id="login-password" name="login-password" placeholder="Ihr Passwort" required>
                </div>
                
                <button type="submit"><i class="fas fa-sign-in-alt"></i> Anmelden</button>
                
                <div id="login-error" class="error">
                    <i class="fas fa-exclamation-circle"></i> Anmeldung fehlgeschlagen. Bitte überprüfen Sie Ihre E-Mail und Passwort.
                </div>
            </form>
        </div>
        
        <div id="booking" class="tab-content">
            <h2><i class="fas fa-calendar-alt"></i> Termin buchen</h2>
            <form id="booking-form">
                <div class="form-group">
                    <label for="service"><i class="fas fa-concierge-bell"></i> Service *</label>
                    <select id="service" name="service" required onchange="updatePrice()">
                        <option value="">Bitte wählen</option>
                        <option value="beratung" data-price="50">Erstberatung - 50€</option>
                        <option value="reparatur" data-price="80">Reparatur - 80€</option>
                        <option value="wartung" data-price="60">Wartung - 60€</option>
                        <option value="installation" data-price="120">Installation - 120€</option>
                        <option value="support" data-price="40">Technischer Support - 40€</option>
                    </select>
                </div>
                
                <div class="form-row">
                    <div class="form-group">
                        <label for="booking-date"><i class="fas fa-calendar-day"></i> Datum *</label>
                        <input type="date" id="booking-date" name="booking-date" required>
                    </div>
                    <div class="form-group">
                        <label for="booking-time"><i class="fas fa-clock"></i> Uhrzeit *</label>
                        <select id="booking-time" name="booking-time" required>
                            <option value="">Bitte wählen</option>
                            <option value="09:00">09:00 Uhr</option>
                            <option value="10:00">10:00 Uhr</option>
                            <option value="11:00">11:00 Uhr</option>
                            <option value="12:00">12:00 Uhr</option>
                            <option value="14:00">14:00 Uhr</option>
                            <option value="15:00">15:00 Uhr</option>
                            <option value="16:00">16:00 Uhr</option>
                            <option value="17:00">17:00 Uhr</option>
                        </select>
                    </div>
                </div>
                
                <div class="form-group">
                    <label for="notes"><i class="fas fa-sticky-note"></i> Anmerkungen</label>
                    <textarea id="notes" name="notes" rows="4" placeholder="Besondere Anforderungen oder Hinweise..."></textarea>
                </div>
                
                <div class="price-display">
                    <h3>Gesamtpreis:</h3>
                    <div class="price" id="total-price">0€</div>
                </div>
                
                <button type="submit"><i class="fas fa-calendar-check"></i> Termin buchen & Bezahlen</button>
                
                <div id="booking-confirmation" class="confirmation">
                    <i class="fas fa-check-circle"></i> Termin erfolgreich gebucht! Bitte führen Sie jetzt die Zahlung durch.
                </div>
                
                <div id="booking-error" class="error">
                    <i class="fas fa-exclamation-circle"></i> Bitte melden Sie sich zuerst an, um einen Termin zu buchen.
                </div>
            </form>
        </div>
        
        <div id="appointments" class="tab-content">
            <h2><i class="fas fa-list"></i> Meine Termine</h2>
            <div class="appointments-list" id="appointmentsList">
                <!-- Termine werden hier dynamisch eingefügt -->
            </div>
        </div>
        
        <div id="payment" class="tab-content">
            <h2><i class="fas fa-credit-card"></i> Zahlung durchführen</h2>
            
            <div class="booking-summary">
                <h3><i class="fas fa-receipt"></i> Buchungsübersicht</h3>
                <div class="form-group">
                    <label>Service:</label>
                    <div id="summary-service">-</div>
                </div>
                <div class="form-group">
                    <label>Datum & Uhrzeit:</label>
                    <div id="summary-datetime">-</div>
                </div>
                <div class="form-group">
                    <label>Gesamtbetrag:</label>
                    <div class="price" id="summary-price">0€</div>
                </div>
            </div>
            
            <div class="payment-section">
                <h3><i class="fas fa-wallet"></i> Zahlungsmethode wählen</h3>
                
                <div class="payment-methods">
                    <div class="payment-method" onclick="selectPaymentMethod('creditcard')">
                        <i class="far fa-credit-card"></i>
                        <div>Kreditkarte</div>
                    </div>
                    <div class="payment-method" onclick="selectPaymentMethod('paypal')">
                        <i class="fab fa-paypal"></i>
                        <div>PayPal</div>
                    </div>
                    <div class="payment-method" onclick="selectPaymentMethod('banktransfer')">
                        <i class="fas fa-university"></i>
                        <div>Überweisung</div>
                    </div>
                </div>
                
                <div id="creditcard-details" class="card-details">
                    <h4><i class="far fa-credit-card"></i> Kreditkartendetails</h4>
                    <div class="form-group">
                        <label for="card-number">Kartennummer *</label>
                        <input type="text" id="card-number" name="card-number" placeholder="1234 5678 9012 3456" maxlength="19">
                    </div>
                    
                    <div class="card-row">
                        <div class="form-group">
                            <label for="card-expiry">Ablaufdatum *</label>
                            <input type="text" id="card-expiry" name="card-expiry" placeholder="MM/JJ" maxlength="5" class="small-input">
                        </div>
                        <div class="form-group">
                            <label for="card-cvc">CVC *</label>
                            <input type="text" id="card-cvc" name="card-cvc" placeholder="123" maxlength="3" class="small-input">
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label for="card-name">Name auf der Karte *</label>
                        <input type="text" id="card-name" name="card-name" placeholder="Max Mustermann">
                    </div>
                </div>
                
                <div id="paypal-details" class="card-details">
                    <h4><i class="fab fa-paypal"></i> PayPal</h4>
                    <p>Sie werden zur PayPal-Website weitergeleitet, um die Zahlung abzuschließen.</p>
                </div>
                
                <div id="banktransfer-details" class="card-details">
                    <h4><i class="fas fa-university"></i> Banküberweisung</h4>
                    <p>Bitte überweisen Sie den Betrag auf folgendes Konto:</p>
                    <p><strong>Empfänger:</strong> Ihr Unternehmen GmbH</p>
                    <p><strong>IBAN:</strong> DE12 3456 7890 1234 5678 90</p>
                    <p><strong>BIC:</strong> COBADEFFXXX</p>
                    <p><strong>Verwendungszweck:</strong> Termin #<span id="booking-id">0000</span></p>
                </div>
                
                <button type="button" id="pay-button" onclick="processPayment()">
                    <i class="fas fa-lock"></i> Zahlung abschließen
                </button>
                
                <div id="payment-confirmation" class="confirmation">
                    <i class="fas fa-check-circle"></i> Zahlung erfolgreich! Ihr Termin ist jetzt bestätigt.
                </div>
                
                <div id="payment-error" class="error">
                    <i class="fas fa-exclamation-circle"></i> Bitte wählen Sie eine Zahlungsmethode aus.
                </div>
            </div>
        </div>
        
        <footer>
            <p>&copy; 2023 ChronoBook Pro. Alle Rechte vorbehalten.</p>
            <p>Kontakt: info@chronobook-pro.de | Tel: +49 123 456 789</p>
        </footer>
    </div>

    <script>
        // Der JavaScript-Code bleibt unverändert
        // Benutzerdaten (normalerweise in einer Datenbank)
        let users = JSON.parse(localStorage.getItem('users')) || [];
        let currentUser = JSON.parse(localStorage.getItem('currentUser')) || null;
        let currentBooking = JSON.parse(localStorage.getItem('currentBooking')) || null;
        let appointments = JSON.parse(localStorage.getItem('appointments')) || [];
        let selectedPaymentMethod = null;
        let appointmentToCancel = null;
        
        // Tab-Funktionalität
        function openTab(tabName) {
            // Alle Tab-Inhalte ausblenden
            const tabContents = document.getElementsByClassName('tab-content');
            for (let i = 0; i < tabContents.length; i++) {
                tabContents[i].classList.remove('active');
            }
            
            // Alle Tab-Buttons deaktivieren
            const tabButtons = document.getElementsByClassName('tab-button');
            for (let i = 0; i < tabButtons.length; i++) {
                tabButtons[i].classList.remove('active');
            }
            
            // Gewählten Tab-Inhalt und Button aktivieren
            document.getElementById(tabName).classList.add('active');
            event.currentTarget.classList.add('active');
            
            // Wenn ein Benutzer angemeldet ist, Buchungsformular anzeigen
            if (currentUser && tabName === 'booking') {
                document.getElementById('booking-error').style.display = 'none';
            }
            
            // Wenn eine Buchung vorhanden ist, Zahlungsseite aktualisieren
            if (currentBooking && tabName === 'payment') {
                updatePaymentSummary();
            }
            
            // Terminliste aktualisieren
            if (tabName === 'appointments') {
                updateAppointmentsList();
            }
        }
        
        // Registrierungsformular verarbeiten
        document.getElementById('registration-form').addEventListener('submit', function(e) {
            e.preventDefault();
            
            const firstname = document.getElementById('firstname').value;
            const lastname = document.getElementById('lastname').value;
            const email = document.getElementById('email').value;
            const phone = document.getElementById('phone').value;
            const password = document.getElementById('password').value;
            const confirmPassword = document.getElementById('confirm-password').value;
            
            if (password !== confirmPassword) {
                alert('Passwörter stimmen nicht überein!');
                return;
            }
            
            // Überprüfen, ob Benutzer bereits existiert
            if (users.find(user => user.email === email)) {
                alert('Ein Benutzer mit dieser E-Mail existiert bereits!');
                return;
            }
            
            // Neuen Benutzer erstellen
            const newUser = {
                id: Date.now(),
                firstname,
                lastname,
                email,
                phone,
                password // In einer echten Anwendung sollte das Passwort gehasht werden
            };
            
            users.push(newUser);
            localStorage.setItem('users', JSON.stringify(users));
            
            document.getElementById('registration-confirmation').style.display = 'block';
            this.reset();
            
            // Automatisch zum Login-Tab wechseln
            setTimeout(() => {
                openTab('login');
            }, 2000);
        });
        
        // Login-Formular verarbeiten
        document.getElementById('login-form').addEventListener('submit', function(e) {
            e.preventDefault();
            
            const email = document.getElementById('login-email').value;
            const password = document.getElementById('login-password').value;
            
            // Benutzer suchen
            const user = users.find(u => u.email === email && u.password === password);
            
            if (user) {
                // Login erfolgreich
                currentUser = user;
                localStorage.setItem('currentUser', JSON.stringify(currentUser));
                
                // Benutzerinfo anzeigen
                document.getElementById('userName').textContent = `${user.firstname} ${user.lastname}`;
                document.getElementById('userInfo').style.display = 'flex';
                
                // Zur Buchungsseite wechseln
                openTab('booking');
                this.reset();
            } else {
                // Login fehlgeschlagen
                document.getElementById('login-error').style.display = 'block';
            }
        });
        
        // Buchungsformular verarbeiten
        document.getElementById('booking-form').addEventListener('submit', function(e) {
            e.preventDefault();
            
            if (!currentUser) {
                document.getElementById('booking-error').style.display = 'block';
                return;
            }
            
            const service = document.getElementById('service');
            const serviceText = service.options[service.selectedIndex].text;
            const servicePrice = service.options[service.selectedIndex].getAttribute('data-price');
            const date = document.getElementById('booking-date').value;
            const time = document.getElementById('booking-time').value;
            
            // Buchung speichern
            currentBooking = {
                id: Date.now(),
                userId: currentUser.id,
                service: service.value,
                serviceText: serviceText,
                price: servicePrice,
                date: date,
                time: time,
                notes: document.getElementById('notes').value,
                status: 'pending'
            };
            
            localStorage.setItem('currentBooking', JSON.stringify(currentBooking));
            
            document.getElementById('booking-confirmation').style.display = 'block';
            
            // Automatisch zur Zahlungsseite wechseln
            setTimeout(() => {
                openTab('payment');
            }, 2000);
        });
        
        // Preisanzeige aktualisieren
        function updatePrice() {
            const service = document.getElementById('service');
            const price = service.options[service.selectedIndex].getAttribute('data-price') || 0;
            document.getElementById('total-price').textContent = `${price}€`;
        }
        
        // Zahlungsmethode auswählen
        function selectPaymentMethod(method) {
            selectedPaymentMethod = method;
            
            // Alle Zahlungsmethoden zurücksetzen
            document.querySelectorAll('.payment-method').forEach(el => {
                el.classList.remove('selected');
            });
            
            // Alle Zahlungsdetails ausblenden
            document.querySelectorAll('.card-details').forEach(el => {
                el.style.display = 'none';
            });
            
            // Ausgewählte Methode markieren
            event.currentTarget.classList.add('selected');
            
            // Details der ausgewählten Methode anzeigen
            document.getElementById(`${method}-details`).style.display = 'block';
        }
        
        // Zahlungsübersicht aktualisieren
        function updatePaymentSummary() {
            if (currentBooking) {
                document.getElementById('summary-service').textContent = currentBooking.serviceText;
                document.getElementById('summary-datetime').textContent = `${currentBooking.date} um ${currentBooking.time} Uhr`;
                document.getElementById('summary-price').textContent = `${currentBooking.price}€`;
                document.getElementById('booking-id').textContent = currentBooking.id;
            }
        }
        
        // Zahlung durchführen
        function processPayment() {
            if (!selectedPaymentMethod) {
                document.getElementById('payment-error').style.display = 'block';
                return;
            }
            
            // Validierung für Kreditkarte
            if (selectedPaymentMethod === 'creditcard') {
                const cardNumber = document.getElementById('card-number').value;
                const cardExpiry = document.getElementById('card-expiry').value;
                const cardCvc = document.getElementById('card-cvc').value;
                const cardName = document.getElementById('card-name').value;
                
                if (!cardNumber || !cardExpiry || !cardCvc || !cardName) {
                    alert('Bitte füllen Sie alle Kreditkartenfelder aus.');
                    return;
                }
            }
            
            // Buchungsstatus aktualisieren
            currentBooking.status = 'paid';
            currentBooking.paymentMethod = selectedPaymentMethod;
            currentBooking.paymentDate = new Date().toISOString();
            
            // Termin zur Liste hinzufügen
            appointments.push(currentBooking);
            localStorage.setItem('appointments', JSON.stringify(appointments));
            
            localStorage.setItem('currentBooking', JSON.stringify(currentBooking));
            
            // Erfolgsmeldung anzeigen
            document.getElementById('payment-confirmation').style.display = 'block';
            document.getElementById('payment-error').style.display = 'none';
            
            // Button deaktivieren
            document.getElementById('pay-button').disabled = true;
            
            // Nach 3 Sekunden zur Buchungsseite zurückkehren
            setTimeout(() => {
                openTab('appointments');
                document.getElementById('booking-form').reset();
                document.getElementById('total-price').textContent = '0€';
                currentBooking = null;
                localStorage.removeItem('currentBooking');
            }, 3000);
        }
        
        // Terminliste aktualisieren
        function updateAppointmentsList() {
            const appointmentsList = document.getElementById('appointmentsList');
            const userAppointments = appointments.filter(apt => apt.userId === currentUser?.id);
            
            if (userAppointments.length === 0) {
                appointmentsList.innerHTML = `
                    <div class="empty-state">
                        <i class="fas fa-calendar-times"></i>
                        <h3>Keine Termine gefunden</h3>
                        <p>Sie haben noch keine Termine gebucht. Buchen Sie jetzt Ihren ersten Termin!</p>
                    </div>
                `;
                return;
            }
            
            appointmentsList.innerHTML = userAppointments.map(apt => `
                <div class="appointment-item" id="appointment-${apt.id}">
                    <div class="appointment-info">
                        <h3>${apt.serviceText}</h3>
                        <div class="appointment-meta">
                            <span><i class="fas fa-calendar"></i> ${apt.date}</span>
                            <span><i class="fas fa-clock"></i> ${apt.time} Uhr</span>
                            <span><i class="fas fa-euro-sign"></i> ${apt.price}€</span>
                            <span class="status-badge status-${apt.status}">
                                ${apt.status === 'pending' ? 'Ausstehend' : 
                                  apt.status === 'paid' ? 'Bezahlt' : 
                                  apt.status === 'confirmed' ? 'Bestätigt' : 'Storniert'}
                            </span>
                        </div>
                        ${apt.notes ? `<p><i class="fas fa-sticky-note"></i> ${apt.notes}</p>` : ''}
                    </div>
                    <div class="appointment-actions">
                        ${apt.status !== 'cancelled' ? `
                            ${apt.status === 'pending' ? `
                                <button class="action-btn edit-btn" onclick="editAppointment(${apt.id})">
                                    <i class="fas fa-edit"></i> Bearbeiten
                                </button>
                            ` : ''}
                            <button class="action-btn cancel-btn" onclick="showCancelModal(${apt.id})">
                                <i class="fas fa-times"></i> Stornieren
                            </button>
                        ` : ''}
                    </div>
                </div>
            `).join('');
        }
        
        // Stornierungsmodal anzeigen
        function showCancelModal(id) {
            appointmentToCancel = id;
            document.getElementById('cancelOverlay').style.display = 'flex';
        }
        
        // Termin stornieren
        function cancelAppointment() {
            if (appointmentToCancel) {
                const appointmentIndex = appointments.findIndex(apt => apt.id === appointmentToCancel);
                if (appointmentIndex !== -1) {
                    // Animationseffekt hinzufügen
                    const appointmentElement = document.getElementById(`appointment-${appointmentToCancel}`);
                    appointmentElement.classList.add('cancelling');
                    
                    // Status nach Animation aktualisieren
                    setTimeout(() => {
                        appointments[appointmentIndex].status = 'cancelled';
                        localStorage.setItem('appointments', JSON.stringify(appointments));
                        updateAppointmentsList();
                        document.getElementById('cancelOverlay').style.display = 'none';
                    }, 500);
                }
            }
        }
        
        // Stornierung abbrechen
        function cancelCancel() {
            document.getElementById('cancelOverlay').style.display = 'none';
            appointmentToCancel = null;
        }
        
        // Termin bearbeiten
        function editAppointment(id) {
            const appointment = appointments.find(apt => apt.id === id);
            if (appointment) {
                // Zur Buchungsseite wechseln und Daten vorausfüllen
                openTab('booking');
                // Hier könnte man die Formularfelder mit den Termindaten vorausfüllen
                alert('Bearbeitungsfunktion für Termin #' + id + ' wird geladen...');
            }
        }
        
        // Abmelden
        document.getElementById('logoutBtn').addEventListener('click', function() {
            currentUser = null;
            localStorage.removeItem('currentUser');
            document.getElementById('userInfo').style.display = 'none';
            openTab('login');
        });
        
        // Stornierungs-Buttons Event Listener
        document.getElementById('confirmCancel').addEventListener('click', cancelAppointment);
        document.getElementById('denyCancel').addEventListener('click', cancelCancel);
        
        // Datumseingabe auf zukünftige Tage beschränken
        const today = new Date().toISOString().split('T')[0];
        document.getElementById('booking-date').setAttribute('min', today);
        
        // Kreditkartenformatierung
        document.getElementById('card-number').addEventListener('input', function(e) {
            let value = e.target.value.replace(/\s+/g, '').replace(/[^0-9]/gi, '');
            let matches = value.match(/\d{4,16}/g);
            let match = matches && matches[0] || '';
            let parts = [];
            
            for (let i = 0, len = match.length; i < len; i += 4) {
                parts.push(match.substring(i, i + 4));
            }
            
            if (parts.length) {
                e.target.value = parts.join(' ');
            } else {
                e.target.value = value;
            }
        });
        
        // Ablaufdatum formatieren
        document.getElementById('card-expiry').addEventListener('input', function(e) {
            let value = e.target.value.replace(/\D/g, '');
            if (value.length >= 2) {
                e.target.value = value.substring(0, 2) + '/' + value.substring(2, 4);
            }
        });
        
        // Zusätzliche 3D-Elemente beim Laden hinzufügen
        window.addEventListener('load', function() {
            const background = document.querySelector('.background-3d');
            
            // Weitere schwebende Elemente hinzufügen
            for (let i = 0; i < 5; i++) {
                const element = document.createElement('div');
                element.classList.add('sphere');
                element.style.left = `${Math.random() * 90}vw`;
                element.style.top = `${Math.random() * 90}vh`;
                element.style.width = `${20 + Math.random() * 60}px`;
                element.style.height = element.style.width;
                element.style.animationDelay = `${Math.random() * 5}s`;
                background.appendChild(element);
            }
            
            // Wenn ein Benutzer bereits angemeldet ist
            if (currentUser) {
                document.getElementById('userName').textContent = `${currentUser.firstname} ${currentUser.lastname}`;
                document.getElementById('userInfo').style.display = 'flex';
                openTab('booking');
            }
        });
    </script>
</body>
</html>